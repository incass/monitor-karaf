"use strict";(self.webpackChunklime_monitor=self.webpackChunklime_monitor||[]).push([[970],{19970:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(47313),s=t(36304),i=t(24813),a=t(34229),o=t.n(a),l=t(1413),d=t(4942),c=t(45987),u=t(47131),h=t(57451),p=t(48119),f=t(95765),m=t(71263),x=t(25036),g=t(39566),b=t(66986),j=t(88526),v=t(48070),Z=t(19860),w=t(83061),N=t(46820),y=t(61255),S=t(6065),k=t(46417),R=["palette"],I=(0,v.Z)((function(e){var n,t=e.palette,r=(0,c.Z)(e,R);return{topbarItems:{},topbarUserItems:{zIndex:96,borderRadius:24,backgroundColor:t.background.paper},topbar:{top:0,transition:"all 0.3s ease","& .topbar-hold":(n={backgroundColor:t.primary.main,height:"var(--topbar-height)",paddingLeft:18,paddingRight:10},(0,d.Z)(n,r.breakpoints.down("sm"),{paddingLeft:16,paddingRight:16}),(0,d.Z)(n,r.breakpoints.down("xs"),{paddingLeft:14,paddingRight:16}),n),"& .fixed":{height:"var(--topbar-height)"}},userMenu:{display:"flex",alignItems:"center",cursor:"pointer",borderRadius:24,padding:1,"& span":{margin:"0 8px"}},menuItem:{display:"flex",alignItems:"center",minWidth:185}}})),C=function(){var e,n,t=(0,Z.Z)(),r=I(),s=(0,y.Z)(),a=s.settings,o=s.updateSettings,d=(0,N.Z)(),c=d.logout,v=d.user,R=(0,i.Z)(t.breakpoints.down("md")),C=null===a||void 0===a||null===(e=a.layout1Settings)||void 0===e||null===(n=e.topbar)||void 0===n?void 0:n.fixed;return(0,k.jsx)("div",{className:r.topbar,children:(0,k.jsx)("div",{className:(0,w.Z)({"topbar-hold":!0,fixed:C}),children:(0,k.jsxs)("div",{className:"flex justify-between items-center h-full",children:[(0,k.jsx)("div",{className:r.topbarItems,children:(0,k.jsx)(u.Z,{size:"small",onClick:function(){var e,n,t=a.layout1Settings;e=R?"close"===t.leftSidebar.mode?"mobile":"close":"full"===t.leftSidebar.mode?"close":"full",n={mode:e},o({layout1Settings:{leftSidebar:(0,l.Z)({},n)}})},className:"hide-on-pc",children:(0,k.jsx)(m.Z,{children:"menu"})})}),(0,k.jsxs)("div",{className:(0,w.Z)("flex items-center",r.topbarUserItems),children:[(0,k.jsx)(x.vY,{}),(0,k.jsx)(S.J,{children:(0,k.jsx)(g.Z,{})}),(0,k.jsx)(j.Z,{}),(0,k.jsxs)(x.$6,{menuButton:(0,k.jsxs)("div",{className:r.userMenu,children:[(0,k.jsx)(h.Z,{xsDown:!0,children:(0,k.jsx)("span",{children:(0,k.jsx)("strong",{children:v.username})})}),(0,k.jsx)(p.Z,{sx:{width:20,height:20},className:"cursor-pointer",src:"/assets/images/face-6.jpg"})]}),children:[(0,k.jsx)(f.Z,{children:(0,k.jsxs)(b.rU,{className:r.menuItem,to:"/",children:[(0,k.jsx)(m.Z,{children:" home "}),(0,k.jsx)("span",{className:"pl-4",children:" Home "})]})}),(0,k.jsx)(f.Z,{children:(0,k.jsxs)(b.rU,{className:r.menuItem,to:"/page-layouts/user-profile",children:[(0,k.jsx)(m.Z,{children:" person "}),(0,k.jsx)("span",{className:"pl-4",children:" Profile "})]})}),(0,k.jsxs)(f.Z,{className:r.menuItem,children:[(0,k.jsx)(m.Z,{children:" settings "}),(0,k.jsx)("span",{className:"pl-4",children:" Settings "})]}),(0,k.jsxs)(f.Z,{onClick:c,className:r.menuItem,children:[(0,k.jsx)(m.Z,{children:" power_settings_new "}),(0,k.jsx)("span",{className:"pl-4",children:" Logout "})]})]})]})]})})})},L=r.memo(C),T=t(89572),z=t(70885),M=t(82294),B=t(11839),F=t(67176),H=t(4935),U=t(97890),_=t(77006),G=t(81195),W=(0,T.ZL)()((function(e,n,t){return{tabs:{backgroundColor:e.palette.primary[800],width:"100%"}}})),O=0,P=function(){var e=(0,r.useState)(!1),n=(0,z.Z)(e,2),t=n[0],s=n[1],i=W().classes,a=(0,r.useRef)([]),o=(0,r.useRef)([]),l=(0,r.useContext)(H.Z).routes,c=(0,U.TH)().pathname,u=(0,r.useRef)([]),h=(0,U.s0)();console.log("NavTab:pathname",c,t,typeof c);var p=l.find((function(e){return e.children}));if((p=p.children.find((function(e){return(0,U.LX)(e,c)})))||(p=p.children.find((function(e){return!e.path}))),"function"!==typeof p.component){var f=u.current.find((function(e){return e.path===p.path}));if(f)f.id!==a.current&&(a.current=f);else{var m={};!function e(n,t,r){n.find((function(n){return n.path===t?(r.item=n,!0):(n.children&&e(n.children,t,r),!1)}))}(_.M,c,m),u.current.push(m.item),m.item.id=O,m.item.key=O,O++,a.current=m.item,o.current.push(m.item.id)}}return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:i.tabs,children:(0,k.jsx)(M.Z,{value:a.current.id,onChange:function(e,n){a.current=u.current.find((function(e){return e.id===n})),o.current[o.current.length-1]!==n&&o.current.push(n),h(a.current.path)},variant:"scrollable",textColor:"primary",sx:(0,d.Z)({backgroundColor:"#00000000 !important",paddingTop:"6px",borderRadius:"0px"},"& .".concat(B.Z.root),{fontSize:"11px","&.MuiButtonBase-root":{paddingTop:"3px",padding:"3px 10px",borderTopLeftRadius:"10px",borderTopRightRadius:"10px","&.Mui-selected":{paddingTop:"3px",paddingBottom:"3px"}}}),children:u.current.map((function(e){return(0,k.jsx)(F.Z,{value:e.id,label:e.name,icon:(0,k.jsx)("div",{onClick:function(n){return function(e,n){e.stopPropagation(),u.current=u.current.filter((function(e){return e.path!==n.path})),o.current=o.current.filter((function(e){return e!==n.id})),a.current.id===n.id?(console.log("NavTab:deleteTab:removed current tab"),a.current=u.current.find((function(e){return e.id===o.current[o.current.length-1]})),h(a.current.path)):(console.log("NavTab:deleteTab:unselected tab has been removed."),s((function(e){return!e})))}(n,e)},style:{marginBottom:"-3px",marginLeft:"6px"},children:(0,k.jsx)(G.Z,{style:{fontSize:"10pt"}})})},e.key)}))})})})},X=(0,T.ZL)()((function(e,n,t){var r;return{menu:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary[800],display:"flex",alignItems:"center"},dd:{display:"flex",background:"white"},d2:{flexGrow:1},topbar:{top:0,zIndex:96,transition:"all 0.3s ease","& .topbar-hold":(r={backgroundColor:e.palette.background.paper,height:"var(--tabsnavbar-height)",paddingLeft:18,paddingRight:20},(0,d.Z)(r,e.breakpoints.down("sm"),{paddingLeft:16,paddingRight:16}),(0,d.Z)(r,e.breakpoints.down("xs"),{paddingLeft:14,paddingRight:16}),r),"& .fixed":{boxShadow:e.shadows[8],height:"var(--tabsnavbar-height)"}}}})),A=function(e){e.history;var n,t,r=X().classes,s=(0,y.Z)(),a=s.settings,o=s.updateSettings,d=(null===a||void 0===a||null===(n=a.layout1Settings)||void 0===n||null===(t=n.topbar)||void 0===t||t.fixed,(0,Z.Z)()),c=(0,i.Z)(d.breakpoints.down("md"));return(0,k.jsxs)("div",{className:r.dd,children:[(0,k.jsx)("div",{className:r.d2,children:(0,k.jsx)(P,{})}),(0,k.jsx)("div",{className:r.menu,children:(0,k.jsx)(u.Z,{size:"small",onClick:function(){var e,n,t=a.layout1Settings;e=c?"close"===t.leftSidebar.mode?"mobile":"close":"full"===t.leftSidebar.mode?"close":"full",n={mode:e},o({layout1Settings:{leftSidebar:(0,l.Z)({},n)}})},className:(0,w.Z)("hide-on-pc text-inherit"),children:(0,k.jsx)(m.Z,{children:"menu"})})})]})},D=r.memo(A),E=t(70414),J=t(51561),Y=t(47294),$=t(26249),q=0,K=function(e){var n=e.routes,t=(0,U.TH)().pathname,s=(0,r.useRef)([]),i=(0,r.useRef)(null),a=n.find((function(e){return e.children}));console.log("routes=>",a.children),(a=a.children.find((function(e){return(0,U.LX)(e,t)})))||(a=n.find((function(e){return!e.path})));a.component;var o,l,d=s.current.find((function(e){return e.path===a.path}));d?(null===(o=d)||void 0===o||null===(l=o.handles)||void 0===l?void 0:l.handleComeIn)&&d.handles.handleComeIn():((d={path:a.path,id:"RenderRoutes"+ ++q}).content=(0,k.jsx)(a.component,{setHandles:function(e){d.handles=e}}),s.current.push(d));if(i.current&&d.content!=i.current){var c,u=s.current.find((function(e){return e.content===i.current}));(null===u||void 0===u||null===(c=u.handles)||void 0===c?void 0:c.handleGoneOut)&&u.handles.handleGoneOut()}return i.current=d.content,(0,k.jsx)(k.Fragment,{children:s.current.map((function(e){return(0,k.jsx)("div",{style:{display:e.path===t?"block":"none",width:"100%",height:"100%",position:"relative"},children:e.content},e.id.toString())}))})},Q=(0,T.ZL)()((function(e,n,t){return{contentWrap:{verticalAlign:"top",marginLeft:n.width,transition:"all 0.3s ease",marginRight:n.secondarySidebar.open?50:0},topbar:{top:0,zIndex:96,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.95) 44%, rgba(247, 247, 247, 0.4) 50%, rgba(255, 255, 255, 0))",transition:"all 0.3s ease"}}})),V=function(){var e=(0,y.Z)(),n=e.settings,t=e.updateSettings,a=n.layout1Settings,l=n.secondarySidebar,d=a.leftSidebar,c=d.mode,u=d.show,h=(0,r.useContext)(H.Z).routes,p=function(){switch(c){case"full":return"var(--sidenav-width)";case"compact":return"var(--sidenav-compact-width)";default:return"0px"}}(),f=Q({width:p,secondarySidebar:l}).classes,m=(0,Z.Z)(),g=(0,i.Z)(m.breakpoints.down("md")),b=(0,r.useRef)({isMdScreen:g,settings:n}),j=n.themes[a.topbar.theme],v=n.themes[a.topNav.theme],N="theme-".concat(m.palette.type," flex");(0,r.useEffect)((function(){var e=b.current.settings,n=e.layout1Settings.leftSidebar.mode;e.layout1Settings.leftSidebar.show&&t({layout1Settings:{leftSidebar:{mode:g?"close":n}}})}),[g]);return(0,k.jsxs)("div",{className:(0,w.Z)("bg-default",N),children:[u&&"close"!==c&&(0,k.jsx)($.Z,{children:(0,k.jsx)(E.Z,{})}),(0,k.jsxs)("div",{className:(0,w.Z)("flex-grow flex-column relative overflow-hidden h-full-screen",f.contentWrap),children:[n.scrollbar&&a.topbar.show&&a.topbar.fixed&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{theme:j,children:(0,k.jsx)(L,{fixed:!0,className:"elevation-z8"})}),(0,k.jsx)(s.Z,{theme:v,children:(0,k.jsx)(D,{fixed:!0,className:"elevation-z8"})})]}),!n.scrollbar&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{theme:v,children:(0,k.jsx)(D,{fixed:!0,className:"elevation-z8"})}),(0,k.jsx)("div",{className:"relative flex-grow flex-column overflow-hidden",children:(0,k.jsx)(x.I5,{children:(0,k.jsx)(K,{routes:h})})})]}),n.scrollbar&&n.perfectScrollbar&&(0,k.jsxs)(o(),{className:"flex-grow flex-column relative h-full",children:[a.topbar.show&&!a.topbar.fixed&&(0,k.jsx)(s.Z,{theme:j,children:(0,k.jsx)(L,{})}),a.topNav.show&&!a.topNav.fixed&&(0,k.jsx)(s.Z,{theme:v,children:(0,k.jsx)(D,{})}),(0,k.jsx)("div",{className:"relative flex-grow flex-column",children:(0,k.jsx)(x.I5,{children:(0,k.jsx)(K,{routes:h})})}),n.footer.show&&!n.footer.fixed&&(0,k.jsx)(J.Z,{})]}),n.scrollbar&&!n.perfectScrollbar&&(0,k.jsxs)("div",{className:"flex-grow flex-column relative h-full scroll-y",children:[a.topbar.show&&!a.topbar.fixed&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{theme:j,children:(0,k.jsx)(L,{})}),(0,k.jsx)(s.Z,{theme:v,children:(0,k.jsx)(D,{})})]}),(0,k.jsx)("div",{className:"relative flex-grow",children:(0,k.jsx)(x.I5,{children:(0,k.jsx)(K,{routes:h})})}),n.footer.show&&!n.footer.fixed&&(0,k.jsx)(J.Z,{})]}),n.footer.show&&n.footer.fixed&&(0,k.jsx)(J.Z,{})]}),n.secondarySidebar.show&&(0,k.jsx)(Y.Z,{})]})},ee=r.memo(V)}}]);